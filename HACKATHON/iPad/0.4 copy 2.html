<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/8d929b7f2c.js" crossorigin="anonymous"></script>
    <title>iPad</title>
    <style>
        .left_box {
            width: calc(100% / 2);
            display: block;
            justify-content: center;
        }

        .right_box {
            width: calc(100% / 2);
        }

        .big_pic {
            width: 80%;
        }

        .color_pic {
            width: 100px;
        }

        .container-m .item {
            margin: auto;
            max-width: 1300px;
        }

        .color_button {
            width: calc(100% / 3 - 20px);
            display: flex;
            flex-direction: column-reverse;
            align-items: center;
            background-color: white;
            margin: 10px;
        }

        .colors_bc {
            /* background-color: antiquewhite; */

        }

        .colors_c {
            display: flex;
            flex-wrap: wrap;

        }

        .color_name {
            text-align: center;
        }

        .specification_b {
            background-color: antiquewhite
        }

        .storage_box,
        .network_box {
            margin: 10px;
        }

        .se_name,
        .network_name {
            font-size: 50px;
            margin: 0 10px;
        }

        .price_name {
            font-size: 70px;
            padding: 0 0 0 50px;
        }
    </style>
</head>

<body>
    <header class="header">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container mx-auto">
                <a class="navbar-brand" href="#"><i class="fa-brands fa-apple fs-2 text-secondary"></i></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link " href="#">商店</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Mac</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">iPad</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link ">iPhone</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link ">Watch</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link ">AirPods</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link ">TV和家庭</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link ">Apple獨家</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link ">配件</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link ">支援服務</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <nav class="navbar navbar-expand-lg navbar-light bg-dark">
            <div class="container justify-content-center ">
                <div class="btn_u ipadAir p-2">
                    <a class="nav-link text-secondary fs-1" href="#"><i
                            class="fa-solid fa-tablet-screen-button"></i></a>
                    <p class="text-white text-center">ipad Air</p>
                </div>
                <div id="btn_u ipadMini" class="ipadMini p-2">
                    <a class="nav-link text-secondary fs-1" href="#"><i class="fa-solid fa-mobile-screen"></i></a>
                    <p class="text-white text-center">ipad Mini</p>
                </div>
                <div class="btn_u ipad p-2">
                    <a class="nav-link text-secondary fs-1" href="#"><i
                            class="fa-solid fa-mobile-screen-button"></i></a>
                    <p class="text-white text-center">ipad</p>
                </div>
            </div>
            </div>
            </div>
        </nav>
    </header>
    <div class="container-m">

        <div class="item d-flex">

        </div>
    </div>
    </div>
    <script>
        const url = "https://raw.githubusercontent.com/Jamie1721/FileStorage/main/ipad4.json";

        let ipadAir, ipadMini, ipad, container, img_box, storage_box, price_b, price_box, price_name, btn_u;


        let colors = ["./gray.png", "./pink.jpeg", "./purple.jpeg", "./blue.jpeg", "./starlight.jpeg"];

        let DataArray;
        let xhr = new XMLHttpRequest();
        xhr.onload = function () {
            if (xhr.readyState == 4 && xhr.status == 200) {
                DataArray = JSON.parse(this.responseText);
            } else {
                container.innerText = '發⽣錯誤，HTTP response代碼：' +
                    xhr.status;
            }
        }
        // 拿到他的地址
        xhr.open("GET", url);
        // 送出我的請求
        xhr.send();

        window.onload = function () {
            ipadAir = document.querySelector('.ipadAir');
            ipadMini = document.querySelector('.ipadMini');
            ipad = document.querySelector('.ipad');

            item = document.querySelector('.item');
            container = document.querySelector('.container-m')
            //左邊的格子
            let left_box = document.createElement('div');
            left_box.setAttribute('class', "left_box");
            //右邊的格子
            let right_box = document.createElement('div');
            right_box.setAttribute('class', "right_box");

            let storage_content, network_content;

            ipadAir.addEventListener('click', () => {
                right_box.innerHTML = "";
                left_box.innerHTML = "";
                //顏色區
                let colors_bc = document.createElement('div');
                colors_bc.setAttribute('class', "colors_bc")
                let colors_c = document.createElement('div');
                colors_c.setAttribute('class', "colors_c")
                let title = document.createElement('h3');
                //規格區
                let storage_b = document.createElement('div');
                storage_b.setAttribute('class', "storage_b");
                let storage = document.createElement('div');
                storage.setAttribute('class', "storage");
                let se_title = document.createElement('h3');
                //網路區
                let ntw_b = document.createElement('div');
                ntw_b.setAttribute('class', "ntw_b");
                let ntw = document.createElement('div');
                ntw.setAttribute('class', "ntw");
                let ntw_title = document.createElement('h3');
                //價格區
                price_b = document.createElement('div')
                price_b.setAttribute('class', "price_b");
                let price_title = document.createElement('h3');
                price_box = document.createElement('div');
                price_box.setAttribute('class', "price_box");
                price_name = document.createElement('p');
                price_name.setAttribute('class', "price_name");

                // console.log(right_box)
                //左圖內容
                let img_l = document.createElement('img');
                img_l.setAttribute('src', "./ipad-air-select.jpg");
                img_l.setAttribute('class', "big_pic");

                left_box.appendChild(img_l);
                item.appendChild(left_box);
                //右圖內容
                title.innerText = "顏色";
                colors_bc.appendChild(title);
                right_box.appendChild(colors_bc);

                se_title.innerText = "規格";
                storage_b.appendChild(se_title);

                ntw_title.innerText = "網路";
                ntw_b.appendChild(ntw_title);

                price_title.innerText = "價格";
                price_b.appendChild(price_title);



                DataArray.forEach((items, index) => {
                    //ipadAir
                    //顏色區
                    if (items.productName == "ipadAir") {
                        console.log();
                        items.color.forEach((n, index) => {
                            //裝顏色與顏色名的按鈕
                            img_box = document.createElement('button');
                            img_box.setAttribute('class', "btn color_button")
                            let color_name = document.createElement('p');
                            color_name.setAttribute('class', "color_name")
                            color_name.innerText = n
                            img_box.appendChild(color_name);
                            // alert(items.color[0])

                            let img_r = document.createElement('img');
                            img_r.setAttribute('src', `${items.colorspicture[index]}`);
                            img_r.setAttribute('class', "color_pic");
                            img_box.appendChild(img_r);

                            //一層一層加
                            colors_c.appendChild(img_box)
                            colors_bc.appendChild(colors_c)
                            right_box.appendChild(colors_bc);
                            item.appendChild(right_box);
                            //點顏色換顏色圖片
                            img_box.addEventListener('click', () => {
                                img_l.removeAttribute('src', "./ipad-air-select.jpg");
                                img_l.setAttribute('src', `${items.picture[index]}`);
                                left_box.appendChild(img_l);
                            })

                        })
                        //規格區
                        right_box.appendChild(storage_b);
                        items.storage.forEach((stor, index) => {
                            storage_box = document.createElement('button');
                            storage_box.setAttribute('class', "btn storage_box");
                            let storage_name = document.createElement('p');
                            storage_name.setAttribute('class', "se_name");
                            storage_name.innerText = stor;
                            // console.log(stor);
                            storage_box.appendChild(storage_name);

                            storage.appendChild(storage_box);
                            right_box.appendChild(storage);
                            storage_box.addEventListener('click', () => {
                                // alert(stor);
                                storage_content = stor;
                                // console.log(storage_content);

                                check();

                            })
                        })
                        //網路區
                        right_box.appendChild(ntw_b);
                        items.network.forEach((netw, index) => {
                            network_box = document.createElement('button');
                            network_box.setAttribute('class', "btn network_box");
                            let network_name = document.createElement('p');
                            network_name.setAttribute('class', "network_name");
                            network_name.innerText = netw;
                            // console.log(netw)

                            network_box.appendChild(network_name);
                            ntw.appendChild(network_box);
                            ntw_b.appendChild(ntw);
                            network_box.addEventListener('click', () => {
                                // alert(netw)
                                network_content = netw;
                                // console.log(networl_content);

                                check();
                            })
                        })

                    }
                })
                right_box.appendChild(price_b);

            });

            ipadMini.addEventListener('click', () => {
                right_box.innerHTML = "";
                left_box.innerHTML = "";
                //顏色區
                let colors_bc = document.createElement('div');
                colors_bc.setAttribute('class', "colors_bc")
                let colors_c = document.createElement('div');
                colors_c.setAttribute('class', "colors_c")
                let title = document.createElement('h3');
                //規格區
                let storage_b = document.createElement('div');
                storage_b.setAttribute('class', "storage_b");
                let storage = document.createElement('div');
                storage.setAttribute('class', "storage");
                let se_title = document.createElement('h3');
                //網路區
                let ntw_b = document.createElement('div');
                ntw_b.setAttribute('class', "ntw_b");
                let ntw = document.createElement('div');
                ntw.setAttribute('class', "ntw");
                let ntw_title = document.createElement('h3');
                //價格區
                price_b = document.createElement('div')
                price_b.setAttribute('class', "price_b");
                let price_title = document.createElement('h3');
                price_box = document.createElement('div');
                price_box.setAttribute('class', "price_box");
                price_name = document.createElement('p');
                price_name.setAttribute('class', "price_name");

                // console.log(right_box)
                //左圖內容
                let img_l = document.createElement('img');
                img_l.setAttribute('src', "./ipad-mini-select-202109.jpg");
                img_l.setAttribute('class', "big_pic");

                left_box.appendChild(img_l);
                item.appendChild(left_box);
                //右圖內容
                title.innerText = "顏色";
                colors_bc.appendChild(title);
                right_box.appendChild(colors_bc);

                se_title.innerText = "規格";
                storage_b.appendChild(se_title);

                ntw_title.innerText = "網路";
                ntw_b.appendChild(ntw_title);

                price_title.innerText = "價格";
                price_b.appendChild(price_title);



                DataArray.forEach((items, index) => {
                    //ipadAir
                    //顏色區
                    if (items.productName == "ipadMini") {
                        console.log();
                        items.color.forEach((n, index) => {
                            //裝顏色與顏色名的按鈕
                            img_box = document.createElement('button');
                            img_box.setAttribute('class', "btn color_button")
                            let color_name = document.createElement('p');
                            color_name.setAttribute('class', "color_name")
                            color_name.innerText = n
                            img_box.appendChild(color_name);
                            // alert(items.color[0])

                            let img_r = document.createElement('img');
                            img_r.setAttribute('src', `${items.colorspicture[index]}`);
                            img_r.setAttribute('class', "color_pic");
                            img_box.appendChild(img_r);

                            //一層一層加
                            colors_c.appendChild(img_box)
                            colors_bc.appendChild(colors_c)
                            right_box.appendChild(colors_bc);
                            item.appendChild(right_box);
                            //點顏色換顏色圖片
                            img_box.addEventListener('click', () => {
                                img_l.removeAttribute('src', "./ipad-air-select.jpg");
                                img_l.setAttribute('src', `${items.picture[index]}`);
                                left_box.appendChild(img_l);
                            })

                        })
                        //規格區
                        right_box.appendChild(storage_b);
                        items.storage.forEach((stor, index) => {
                            storage_box = document.createElement('button');
                            storage_box.setAttribute('class', "btn storage_box");
                            let storage_name = document.createElement('p');
                            storage_name.setAttribute('class', "se_name");
                            storage_name.innerText = stor;
                            // console.log(stor);
                            storage_box.appendChild(storage_name);

                            storage.appendChild(storage_box);
                            right_box.appendChild(storage);
                            storage_box.addEventListener('click', () => {
                                // alert(stor);
                                storage_content = stor;
                                // console.log(storage_content);

                                check();

                            })
                        })
                        //網路區
                        right_box.appendChild(ntw_b);
                        items.network.forEach((netw, index) => {
                            network_box = document.createElement('button');
                            network_box.setAttribute('class', "btn network_box");
                            let network_name = document.createElement('p');
                            network_name.setAttribute('class', "network_name");
                            network_name.innerText = netw;
                            // console.log(netw)

                            network_box.appendChild(network_name);
                            ntw.appendChild(network_box);
                            ntw_b.appendChild(ntw);
                            network_box.addEventListener('click', () => {
                                // alert(netw)
                                network_content = netw;
                                // console.log(networl_content);

                                check();
                            })
                        })

                    }
                })
                right_box.appendChild(price_b);

            });

            ipad.addEventListener('click', () => {
                right_box.innerHTML = "";
                left_box.innerHTML = "";
                //顏色區
                let colors_bc = document.createElement('div');
                colors_bc.setAttribute('class', "colors_bc")
                let colors_c = document.createElement('div');
                colors_c.setAttribute('class', "colors_c")
                let title = document.createElement('h3');
                //規格區
                let storage_b = document.createElement('div');
                storage_b.setAttribute('class', "storage_b");
                let storage = document.createElement('div');
                storage.setAttribute('class', "storage");
                let se_title = document.createElement('h3');
                //網路區
                let ntw_b = document.createElement('div');
                ntw_b.setAttribute('class', "ntw_b");
                let ntw = document.createElement('div');
                ntw.setAttribute('class', "ntw");
                let ntw_title = document.createElement('h3');
                //價格區
                price_b = document.createElement('div')
                price_b.setAttribute('class', "price_b");
                let price_title = document.createElement('h3');
                price_box = document.createElement('div');
                price_box.setAttribute('class', "price_box");
                price_name = document.createElement('p');
                price_name.setAttribute('class', "price_name");

                // console.log(right_box)
                //左圖內容
                let img_l = document.createElement('img');
                img_l.setAttribute('src', "./ipad-landing-wifi.jpg");
                img_l.setAttribute('class', "big_pic");

                left_box.appendChild(img_l);
                item.appendChild(left_box);
                //右圖內容
                title.innerText = "顏色";
                colors_bc.appendChild(title);
                right_box.appendChild(colors_bc);

                se_title.innerText = "規格";
                storage_b.appendChild(se_title);

                ntw_title.innerText = "網路";
                ntw_b.appendChild(ntw_title);

                price_title.innerText = "價格";
                price_b.appendChild(price_title);



                DataArray.forEach((items, index) => {
                    //ipadAir
                    //顏色區
                    if (items.productName == "ipad") {
                        items.color.forEach((n, index) => {
                            //裝顏色與顏色名的按鈕
                            img_box = document.createElement('button');
                            img_box.setAttribute('class', "btn color_button")
                            let color_name = document.createElement('p');
                            color_name.setAttribute('class', "color_name")
                            color_name.innerText = n
                            img_box.appendChild(color_name);
                            // alert(items.color[0])

                            let img_r = document.createElement('img');
                            img_r.setAttribute('src', `${items.colorspicture[index]}`);
                            img_r.setAttribute('class', "color_pic");
                            img_box.appendChild(img_r);

                            //一層一層加
                            colors_c.appendChild(img_box)
                            colors_bc.appendChild(colors_c)
                            right_box.appendChild(colors_bc);
                            item.appendChild(right_box);
                            //點顏色換顏色圖片
                            img_box.addEventListener('click', () => {
                                img_l.removeAttribute('src', "./ipad-air-select.jpg");
                                img_l.setAttribute('src', `${items.picture[index]}`);
                                left_box.appendChild(img_l);
                            })

                        })
                        //規格區
                        right_box.appendChild(storage_b);
                        items.storage.forEach((stor, index) => {
                            storage_box = document.createElement('button');
                            storage_box.setAttribute('class', "btn storage_box");
                            let storage_name = document.createElement('p');
                            storage_name.setAttribute('class', "se_name");
                            storage_name.innerText = stor;
                            // console.log(stor);
                            storage_box.appendChild(storage_name);

                            storage.appendChild(storage_box);
                            right_box.appendChild(storage);
                            storage_box.addEventListener('click', () => {
                                // alert(stor);
                                storage_content = stor;
                                // console.log(storage_content);
                                

                                check();

                            })
                        })
                        //網路區
                        right_box.appendChild(ntw_b);
                        items.network.forEach((netw, index) => {
                            network_box = document.createElement('button');
                            network_box.setAttribute('class', "btn network_box");
                            let network_name = document.createElement('p');
                            network_name.setAttribute('class', "network_name");
                            network_name.innerText = netw;
                            // console.log(netw)

                            network_box.appendChild(network_name);
                            ntw.appendChild(network_box);
                            ntw_b.appendChild(ntw);
                            network_box.addEventListener('click', () => {
                                // alert(netw)
                                network_content = netw;
                                // console.log(networl_content);

                                check();
                            })
                        })

                    }
                })
                right_box.appendChild(price_b);

            });



            function check() {
                DataArray.filter(function (items, index) {
                    if (storage_content == "64GB" && network_content == "Wi-Fi") {
                        //價錢區
                        price_name.innerText = "TW  " + items.price[0];

                        // storage_content = "";
                        // network_content = "";

                    }
                    if (storage_content == "64GB" && network_content == "Cellular") {
                        price_name.innerText = "TW  " + items.price[1];
                        // storage_content = "";
                        // network_content = "";


                    }
                    if (storage_content == "256GB" && network_content == "Wi-Fi") {
                        price_name.innerText = "TW  " + items.price[1];
                        // storage_content = "";
                        // network_content = "";


                    }
                    if (storage_content == "256GB" && network_content == "Cellular") {
                        price_name.innerText = "TW  " + items.price[2];
                        // storage_content = "";
                        // network_content = "";


                    }
                    price_box.appendChild(price_name);
                    price_b.appendChild(price_box);
                    right_box.appendChild(price_b);

                })


            }
        }



    </script>





    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

</body>

</html>