<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>

<body>
    <div class="container ">
        <div class="row ms-auto me-auto w-50">
            <div class="card ">
                <button id="start" type="button" class="btn btn-primary m-2">重玩</button>
                <div class="box border border-dark m-2 text-center" style="height: 40px;"></div>
                <input class="box-in border border-dark m-2 text-center" style="height: 40px;"></ㄛ>
                <div class="numberbox d-flex flex-wrap">
                    <button type="button" id="btn_a" class="btnAll btn btn-dark"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">1</button>
                    <button type="button" id="btn_b" class="btnAll btn btn-dark"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">2</button>
                    <button type="button" id="btn_c" class="btnAll btn btn-dark"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">3</button>
                    <button type="button" id="btn_d" class="btnAll btn btn-dark"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">4</button>
                    <button type="button" id="btn_e" class="btnAll btn btn-dark"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">5</button>
                    <button type="button" id="btn_f" class="btnAll btn btn-dark"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">6</button>
                    <button type="button" id="btn_g" class="btnAll btn btn-dark"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">7</button>
                    <button type="button" id="btn_h" class="btnAll btn btn-dark"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">8</button>
                    <button type="button" id="btn_i" class="btnAll btn btn-dark"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">9</button>
                    <button type="button" id="btn_j" class="btn1 btn-danger"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">X</button>
                    <button type="button" id="btn_k" class="btnAll btn btn-dark"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">0</button>
                    <button type="button" id="btn_l" class="btn2 btn-success"
                        style="width: calc(100% / 3 - 10px); margin: 5px;">Y</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        let input_box, random, my_ans;
        let m = 0;
        let M = 100;

        window.onload = function () {
            let randombox = document.querySelector('.box');
            randombox.innerText = `${m} ~ ${M}`;
            random = Math.floor(Math.random() * (M - m) + m);

            button();
            randomNumber();
            checkButton();
        }
        function randomNumber() {
            let button = document.querySelector('#start');
            document.querySelector('#start').addEventListener('click', () => {
                random = Math.floor(Math.random() * (M - m) + m);
                button.setAttribute('disabled', false);
            })
        }

        function checkButton() {
            let input_box = document.querySelector('.box-in');
            let randombox = document.querySelector('.box');
            let button = document.querySelector('#start');



            document.getElementById('btn_l').addEventListener('click', () => {
                my_ans = parseInt(input_box.value);

                if (my_ans > M || my_ans < m) {
                    alert('請注意規則!');
                }
                else if (my_ans < random) {
                    m = my_ans;
                    randombox.innerText = `${m} ~ ${M}`;
                }
                else if (my_ans > random) {
                    M = my_ans;
                    randombox.innerText = `${m} ~ ${M}`;
                }
                else if (my_ans = random) {
                    alert('答對囉!');
                    button.removeAttribute('disabled',);
                    m = 1;
                    M = 200;
                    
                }
                randombox.innerText = `${m} ~ ${M}`;

                input_box.value = "";



            })

        }

        function button() {
            let input_box = document.querySelector('.box-in');
            let btns = document.querySelectorAll('.btnAll');
            let btn1 = document.querySelector('.btn1');

            btns.forEach(item =>{
                item.addEventListener('click', function (event) {
                input_box.value += item.innerText;
                })
            })

            btn1.addEventListener('click', function (event) {
                input_box.value = " ";
            })


        }
    </script>





    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

</body>

</html>